@tailwind base;
@tailwind components;
@tailwind utilities;

/* ======================================================
   DESIGN TOKENS — single source of truth
   ====================================================== */
@layer base {
  :root {
    /* Canvas */
    --canvas: 244 246 249;
    --canvas-soft: 230 237 244;
    --canvas-subtle: 221 232 242;

    /* Glass */
    --glass-bg: 255 255 255;
    --glass-border: 255 255 255;

    /* Text */
    --text-primary: 15 23 42;
    --text-secondary: 51 65 85;
    --text-muted: 100 116 139;

    /* Accents */
    --accent-cyan: 34 211 238;
    --accent-violet: 139 92 246;
    --accent-pink: 236 72 153;
  }

  html {
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
  }

  body {
    @apply font-sans antialiased;
    background-color: rgb(var(--canvas));
    color: rgb(var(--text-primary));
    line-height: 1.65;
    overflow-x: hidden;
  }
}

/* ======================================================
   GLASSMORPHISM — hardware-friendly
   ====================================================== */
@layer components {
  .glass {
    background: rgb(var(--glass-bg) / 0.45);
    backdrop-filter: blur(16px) saturate(120%);
    -webkit-backdrop-filter: blur(16px) saturate(120%);
    border: 1px solid rgb(var(--glass-border) / 0.25);
    box-shadow:
      0 12px 36px rgba(15,23,42,0.08),
      inset 0 1px 0 rgba(255,255,255,0.12);
    border-radius: 1.75rem;
  }

  .glass-strong {
    background: rgb(var(--glass-bg) / 0.65);
    backdrop-filter: blur(22px) saturate(140%);
    -webkit-backdrop-filter: blur(22px) saturate(140%);
    border: 1px solid rgb(var(--glass-border) / 0.3);
    box-shadow:
      0 24px 72px rgba(15,23,42,0.12),
      inset 0 1px 0 rgba(255,255,255,0.15);
    border-radius: 2rem;
  }
}

/* ======================================================
   TYPOGRAPHY — semantic & responsive
   ====================================================== */
@layer utilities {
  .text-primary { color: rgb(var(--text-primary)); }
  .text-secondary { color: rgb(var(--text-secondary)); }
  .text-muted { color: rgb(var(--text-muted)); }

  .text-accent-cyan { color: rgb(var(--accent-cyan)); }
  .text-accent-violet { color: rgb(var(--accent-violet)); }
  .text-accent-pink { color: rgb(var(--accent-pink)); }

  .heading-xl {
    @apply text-4xl sm:text-5xl lg:text-6xl font-heading font-bold leading-tight;
  }

  .heading-lg {
    @apply text-3xl sm:text-4xl font-heading font-semibold;
  }

  .heading-md {
    @apply text-2xl font-heading font-medium;
  }
}

/* ======================================================
   MOTION — ambient only (safe on mobile)
   ====================================================== */
@keyframes float-ambient {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@layer utilities {
  .animate-float-ambient {
    animation: float-ambient 7s ease-in-out infinite;
  }

  .will-change-transform {
    will-change: transform;
  }
}

/* Motion safety */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ======================================================
   INTERACTION — buttons, cards, touch-friendly
   ====================================================== */
@layer components {
  .btn-primary {
    @apply relative inline-flex items-center justify-center gap-2
           rounded-full px-7 py-3 font-medium
           text-white bg-brand
           shadow-soft transition-all duration-300
           select-none touch-manipulation;
  }

  .btn-primary::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(
      120deg,
      rgb(var(--accent-cyan)),
      rgb(var(--accent-violet))
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
  }

  .btn-primary:hover::after {
    opacity: 1;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 18px 48px rgba(59,130,246,0.35);
  }

  .btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 8px 20px rgba(59,130,246,0.25);
  }

  .card {
    @apply glass transition-transform duration-300;
  }

  .card:hover {
    transform: translateY(-6px);
  }
}

/* ======================================================
   ACCESSIBILITY — focus & selection
   ====================================================== */
@layer utilities {
  .focus-ring:focus-visible {
    outline: 2px solid rgb(var(--accent-cyan));
    outline-offset: 4px;
  }
}

/* ======================================================
   SCROLLBAR — minimal, consistent
   ====================================================== */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(var(--text-muted)/0.4) transparent;
}

*::-webkit-scrollbar { width: 8px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb {
  background: rgba(var(--text-muted)/0.4);
  border-radius: 999px;
}
*::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--text-muted)/0.6);
}

/* ======================================================
   MEDIA & GLOBAL REFINEMENT
   ====================================================== */
img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;
  border-radius: 0.75rem;
  filter: brightness(0.98) contrast(1.02);
}

a {
  @apply transition-colors duration-300 focus-ring;
}

button {
  @apply outline-none focus-ring;
}

/* ======================================================
   GRADIENT TEXT & SECTIONS
   ====================================================== */
.text-gradient {
  background: linear-gradient(
    90deg,
    rgb(var(--accent-cyan)),
    rgb(var(--accent-violet))
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.bg-soft-gradient {
  background: linear-gradient(
    180deg,
    rgb(var(--canvas)),
    rgb(var(--canvas-soft))
  );
}
